{"ast":null,"code":"var _jsxFileName = \"C:\\\\estoque\\\\frontend\\\\src\\\\pages\\\\Login\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Context } from '../../Context/AuthContext';\nimport \"./styles.css\";\nimport { Icon } from './Icon';\nimport { MainContainer, DrivePainel, FormDrive, InputDrive, ButtonDrive, LoginWith, HorizontalRule, IconsContainer, ForgotPassword } from '../../pages/Login/styles';\nimport { FaFacebookF, FaInstagram, FaTwitter } from 'react-icons/fa';\nimport api from '../../config/configApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n\n  const FacebookBackground = \"linear-gradient(to right, #0546A0 0%, #0546A0 40%, #663FB6 100%)\";\n  const InstagramBackground = \"linear-gradient(to right, #A12AC4 0%, #ED586C 40%, #F0A853 100%)\";\n  const TwitterBackground = \"linear-gradient(to right, #56C1E1 0%, #35A9CE 50%)\";\n  const history = useHistory();\n  const {\n    signIn\n  } = useContext(Context);\n  const [dadosUsuario, setUsuario] = useState({\n    usuario: '',\n    senha: ''\n  });\n  const [status, setStatus] = useState({\n    type: '',\n    messagem: ''\n  });\n\n  const valorInput = e => setUsuario({ ...dadosUsuario,\n    [e.target.name]: e.target.value\n  });\n\n  const loginSubmit = async e => {\n    e.preventDefault();\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    api.post(\"/login\", dadosUsuario, {\n      headers\n    }).then(response => {\n      if (response.data.erro) {\n        setStatus({\n          type: 'erro',\n          messagem: response.data.messagem\n        });\n      } else {\n        setStatus({\n          type: 'success',\n          messagem: response.data.messagem\n        }); // Salvar o token localStorage\n\n        localStorage.setItem('token', JSON.stringify(response.data.token));\n        api.defaults.headers.Authorization = `Bearer ${response.data.token}`;\n        signIn(true);\n        return history.push('/dashboard');\n      }\n    }).catch(() => {\n      setStatus({\n        type: 'erro',\n        messagem: \"Erro: Usu√°rio ou senha a senha incorreta!\"\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(MainContainer, {\n    children: [/*#__PURE__*/_jsxDEV(DrivePainel, {\n      children: \"Painel do Motorista\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 14\n    }, this), status.type === 'erro' ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: status.messagem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 39\n    }, this) : \"\", status.type === 'success' ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: status.messagem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 42\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(FormDrive, {\n      onSubmit: loginSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Usu\\xE1rio: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputDrive, {\n        type: \"text\",\n        name: \"usuario\",\n        placeholder: \"Digite o usu\\xE1rio\",\n        onChange: valorInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Senha: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputDrive, {\n        type: \"password\",\n        name: \"senha\",\n        placeholder: \"Digite a senha\",\n        autoComplete: \"on\",\n        onChange: valorInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ButtonDrive, {\n        type: \"submit\",\n        children: \"Acessar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LoginWith, {\n      children: \" Ou acesse via\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(HorizontalRule, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(IconsContainer, {\n      children: /*#__PURE__*/_jsxDEV(Icon, {\n        children: /*#__PURE__*/_jsxDEV(FaFacebookF, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ForgotPassword, {\n      children: \"Esqueci a senha\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"wL5r83V/Rx4ZGzNeDaNFflf6B3A=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/estoque/frontend/src/pages/Login/index.js"],"names":["React","useState","useContext","useHistory","Context","Icon","MainContainer","DrivePainel","FormDrive","InputDrive","ButtonDrive","LoginWith","HorizontalRule","IconsContainer","ForgotPassword","FaFacebookF","FaInstagram","FaTwitter","api","Login","FacebookBackground","InstagramBackground","TwitterBackground","history","signIn","dadosUsuario","setUsuario","usuario","senha","status","setStatus","type","messagem","valorInput","e","target","name","value","loginSubmit","preventDefault","headers","post","then","response","data","erro","localStorage","setItem","JSON","stringify","token","defaults","Authorization","push","catch"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';import { useHistory } from 'react-router-dom';\r\nimport { Context } from '../../Context/AuthContext';\r\nimport \"./styles.css\";\r\nimport { Icon } from './Icon';\r\nimport { MainContainer, DrivePainel, FormDrive, InputDrive, ButtonDrive, LoginWith, HorizontalRule, IconsContainer, ForgotPassword } from '../../pages/Login/styles';\r\nimport { FaFacebookF, FaInstagram, FaTwitter }  from 'react-icons/fa';\r\n\r\nimport api from '../../config/configApi';\r\n\r\nexport const Login = () => {\r\n\r\n    const FacebookBackground =\r\n    \"linear-gradient(to right, #0546A0 0%, #0546A0 40%, #663FB6 100%)\";\r\n  const InstagramBackground =\r\n    \"linear-gradient(to right, #A12AC4 0%, #ED586C 40%, #F0A853 100%)\";\r\n  const TwitterBackground =\r\n    \"linear-gradient(to right, #56C1E1 0%, #35A9CE 50%)\";\r\n\r\n    const history = useHistory();\r\n\r\n    const {signIn} = useContext(Context);\r\n    \r\n\r\n    const [dadosUsuario, setUsuario] = useState({\r\n        usuario: '',\r\n        senha: ''\r\n    });\r\n\r\n    const [status, setStatus] = useState({\r\n        type: '',\r\n        messagem: ''\r\n    });\r\n\r\n    const valorInput = e => setUsuario({ ...dadosUsuario, [e.target.name]: e.target.value });\r\n\r\n    const loginSubmit = async e => {\r\n        e.preventDefault();\r\n\r\n        const headers = {\r\n            'Content-Type': 'application/json'\r\n        };\r\n\r\n        api.post(\"/login\", dadosUsuario, { headers })\r\n            .then((response) => {\r\n                if (response.data.erro) {\r\n                    setStatus({\r\n                        type: 'erro',\r\n                        messagem: response.data.messagem\r\n                    });\r\n                } else {\r\n                    setStatus({\r\n                        type: 'success',\r\n                        messagem: response.data.messagem\r\n                    });\r\n                    // Salvar o token localStorage\r\n                    localStorage.setItem('token', JSON.stringify(response.data.token));\r\n                    api.defaults.headers.Authorization = `Bearer ${response.data.token}`;\r\n                    signIn(true);\r\n                    return history.push('/dashboard');\r\n                }\r\n            }).catch(() => {\r\n                setStatus({\r\n                    type: 'erro',\r\n                    messagem: \"Erro: Usu√°rio ou senha a senha incorreta!\"\r\n                });\r\n            });\r\n    }\r\n\r\n    return (        \r\n        <MainContainer>\r\n             <DrivePainel>Painel do Motorista</DrivePainel>                       \r\n            {status.type === 'erro' ? <p>{status.messagem}</p> : \"\"}\r\n            {status.type === 'success' ? <p>{status.messagem}</p> : \"\"}\r\n            \r\n            <FormDrive onSubmit={loginSubmit}>\r\n                 \r\n                <label>Usu√°rio: </label>\r\n                <InputDrive type=\"text\" name=\"usuario\" placeholder=\"Digite o usu√°rio\" onChange={valorInput} />\r\n\r\n                <label>Senha: </label>\r\n                <InputDrive type=\"password\" name=\"senha\" placeholder=\"Digite a senha\" autoComplete=\"on\" onChange={valorInput} /> \r\n\r\n                <ButtonDrive type=\"submit\">Acessar</ButtonDrive>                \r\n\r\n            </FormDrive>\r\n            <LoginWith> Ou acesse via</LoginWith>\r\n                <HorizontalRule />\r\n            <IconsContainer>\r\n                <Icon>\r\n                    <FaFacebookF />\r\n                </Icon>\r\n            </IconsContainer>\r\n            <ForgotPassword>Esqueci a senha</ForgotPassword>    \r\n        </MainContainer>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}